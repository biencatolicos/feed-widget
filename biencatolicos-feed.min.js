!function(){function t(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var e=document.createElement("style");e.textContent=".bc-feed-container{display:flex;flex-wrap:nowrap;gap:10px;overflow-x:auto;padding:10px;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;-ms-overflow-style:none;scrollbar-width:none;margin:0 auto;max-width:100%}.bc-feed-container::-webkit-scrollbar{display:none}.bc-card{flex:0 0 calc(33.333% - 7px);min-width:250px;background:#fff;border-radius:8px;border:1px solid #e1e1e1;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 2px 4px rgba(0,0,0,.1)}.bc-card-header{padding:12px;background:#f8f8f8;border-bottom:1px solid #e1e1e1;text-align:center;font-family:Arial,sans-serif}.bc-card-content{padding:16px;flex-grow:1;display:flex;flex-direction:column;font-family:Arial,sans-serif}.bc-card-title{font-size:16px;font-weight:600;color:#1a1a1a;text-decoration:none;margin-bottom:12px;display:block;line-height:1.4}.bc-card-title:hover{color:#0066cc}.bc-card-excerpt{font-size:14px;color:#444;line-height:1.5;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;flex-grow:1}@media (max-width:900px){.bc-card{flex:0 0 calc(50% - 5px)}}@media (max-width:600px){.bc-card{flex:0 0 100%}}",document.head.appendChild(e);const n=document.getElementById("biencatolicos-feed");if(!n)return;const a=n.getAttribute("data-feed-url")||"https://feeds.feedburner.com/biencatolicos/guatemala",r=document.createElement("div");function c(e){const n=document.createElement("article");return n.className="bc-card",n.innerHTML=`<div class="bc-card-header"><span>Noticias</span></div><div class="bc-card-content"><a href="${t(e.link)}" class="bc-card-title" target="_blank">${t(e.title)}</a><p class="bc-card-excerpt">${t(e.description.replace(/<[^>]*>/g,"").substring(0,200))}...</p></div>`,n}async function d(){r.innerHTML='<div style="text-align:center;padding:20px;color:#666;">Cargando contenido...</div>';try{const e=await fetch(`https://api.factmaven.com/xml-to-json?xml=${encodeURIComponent(a)}`);if(!e.ok)throw new Error("Error al cargar el feed");const t=await e.json();if(!t.rss||!t.rss.channel||!t.rss.channel.item)throw new Error("Error en el formato del feed");const n=Array.isArray(t.rss.channel.item)?t.rss.channel.item:[t.rss.channel.item];r.innerHTML="",n.slice(0,3).forEach(t=>{const e={title:t.title,link:t.link,description:t.description||""};r.appendChild(c(e))})}catch(t){console.error("Error loading feed:",t),r.innerHTML='<div style="padding:20px;color:#721c24;background-color:#f8d7da;border:1px solid #f5c6cb;border-radius:4px;margin:10px;">Error al cargar el contenido. Por favor, intenta m√°s tarde.</div>'}}r.className="bc-feed-container",n.appendChild(r),d(),setInterval(d,3e5),document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&d()})}();
